!function(t,e){var n={put:function(t,e){(e||window).location.hash=this.encoder(t)},get:function(t){var n=(t||window).location.hash.replace(/^#/,"");try{return e.browser.mozilla?n:decodeURIComponent(n)}catch(t){return n}},encoder:encodeURIComponent},o={storage:{},put:function(t,e){this.storage[t]=e},get:function(t){return t in this.storage?this.storage[t]:{}}},c={id:"__jQuery_history",init:function(){var t='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';return e("body").prepend(t),this},_document:function(){return e("#"+this.id)[0].contentWindow.document},put:function(t){var e=this._document();e.open(),e.close(),n.put(t,e)},get:function(){return n.get(this._document())}};function i(t){t=e.extend({unescape:!1},t||{}),n.encoder=function(t){if(!0===t)return function(t){return t};if("string"==typeof t&&(n=t.split(""),o=new RegExp(e.map(n,encodeURIComponent).join("|"),"ig"),t=function(t){return t.replace(o,decodeURIComponent)})||"function"==typeof t)return function(e){return t(encodeURIComponent(e))};var n,o;return encodeURIComponent}(t.unescape)}var a={};a.base={callback:void 0,type:void 0,check:function(){},load:function(t){},init:function(t,e){i(e),r.callback=t,r._options=e,r._init()},_init:function(){},_options:{}},a.timer={_appState:void 0,_init:function(){var t=n.get();r._appState=t,r.callback(t,o.get(t)),setInterval(r.check,100)},check:function(){var t=n.get();t!=r._appState&&(r._appState=t,r.callback(t,o.get(t)))},load:function(t,e){t!=r._appState&&(o.put(t,e),n.put(t),r._appState=t,r.callback(t,o.get(t)))},reload:function(t,n){e.isEmptyObject(o.get(t))||o.put(t,n)}},a.iframeTimer={_appState:void 0,_init:function(){var t=n.get();r._appState=t,c.init().put(t),r.callback(t,o.get(t)),setInterval(r.check,100)},check:function(){var t=c.get(),e=n.get();e!=t&&(e==r._appState?(r._appState=t,n.put(t),r.callback(t,o.get(t))):(r._appState=e,c.put(e),r.callback(e,o.get(e))))},load:function(t,e){t!=r._appState&&(o.put(t,e),n.put(t),c.put(t),r._appState=t,r.callback(t,o.get(t)))},reload:function(t,n){e.isEmptyObject(o.get(t))||o.put(t,n)}},a.hashchangeEvent={_init:function(){e(window).bind("hashchange",r.check),r.check()},check:function(){var e=n.get()?n.get():"!/"+t.current_url;r.callback(e,o.get(e))},load:function(t,e){o.put(t,e),n.put(t)},reload:function(t,e){o.put(t,e)}},a.HTML5={_init:function(){e(window).bind("popstate",r.check)},check:function(t){var e=t.originalEvent.state;r.callback(e?"#!/"+document.location:"",e)},load:function(t,e){window.history.pushState(e,null,t.replace(/^\!\//,""))},reload:function(t,e){window.history.replaceState(e,null,t.replace(/^\!\//,""))}};var r=e.extend({},a.base);e.browser.msie&&(e.browser.version<8||document.documentMode<8)?r.type="iframeTimer":!t.embedded&&"pushState"in window.history?r.type="HTML5":"onhashchange"in window?r.type="hashchangeEvent":r.type="timer",e.extend(r,a[r.type]),e.history=r}(Tygh,Tygh.$);